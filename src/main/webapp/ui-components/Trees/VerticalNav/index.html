<html>
<head>
	<title>Tree Illustrator</title>
	<meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
	<script type="text/javascript" src="../../js/jquery/jquery-1.11.1.min.js"></script>
 
	<link rel="stylesheet" type="text/css" href="css/ui.dynatree.css">
	<script type="text/javascript" src="js/jquery-ui.js"></script>
	<script type="text/javascript"  src="js/jquery.dynatree-1.2.4.js"></script>
	<script type="text/javascript"  src="js/jquery.cookie.js"></script>
</head>
<body>
	<div style="width:30%;">
		<div id="treeContainer">
			<UL>
				<LI>Category A
					<UL>
						<LI>Product A</LI>
						<LI>Product B</LI>
						<LI>Product C</LI>
						<LI>Product D</LI>
						<LI>Product E</LI>
						<LI>Product F</LI>
						<LI>Product G</LI>
						<LI>Product H</LI>
					</UL>
					
				</LI>
				<LI>Category B
					<UL>
						<LI>Small Size Products</LI>
						<LI>Medium Size Products</LI>
						<LI>Large Size Products</LI>
						<LI>Extra Large Size Products</LI>
					</UL>											 
				</LI>
				<LI>Category C 
					<UL>
						<LI>Kids Wear</LI>
						<LI>Night Wear</LI>
						<LI>Winter Wear</LI>
						<LI>Summer Wear</LI>
						<LI>G Wear</LI>
						<LI>H Wear</LI>	
					</UL>
																 
				</LI>
			</UL>
		</div>
	</div>
<script type="text/javascript">
	$(document).ready(	function() {

		$("#treeContainer").dynatree({
			autoCollapse: false,
			persist: true,
			checkbox : true,
			selectMode : 2,
			onSelect : function(select, node) {
	
				var finalSelValues="";
				if (!select) {
					finalSelValues = node.data.title+","+node.getParent().data.title;
				} else {
					var selValues = $.map(node.tree
							.getSelectedNodes(),
							function(node) {
								return node.data.title;
							});
					var selArray = selValues.toString().split(",");
					for (var i =1; i<=selArray.length; i++) {
						if (i==1) {
							finalSelValues = selArray[i-1]+",";
						} else if (i%2 != 0) { //odd number
							finalSelValues+=selArray[i-1]+",";
						} else {
							finalSelValues+=selArray[i-1]+":";
						}
					}
					
				}
				
				finalSelValues=finalSelValues.replace(/^(.*):(.*?)$/, '$1$2');
				callDWRToGetAssestListBySymbol("searchParamForTree",finalSelValues, select);
			
			},
			onDblClick : function(node, event) {
				node.toggleSelect();
			},
			onKeydown : function(node, event) {
				if (event.which == 32) {
					node.toggleSelect();
					return false;
				}
			},
			// The following options are only required, if we have more than one tree on one page:
			// initId: "treeData",
			cookieId : "dynatree-Cb3",
			idPrefix : "dynatree-Cb3-"
		});
		document.getElementById("tab-1-content").style.visibility="visible";
		document.getElementById("tab-2-content").style.visibility="visible";
		document.getElementById("tabUL").style.visibility="visible";
	});

	
</script>
</body>
</html>
